== Litt om CSS

Her skal vi se litt p√• grunnleggende CSS. CSS-standarden er stor og omhandler mange ting som det ikke er naturlig √• ta for seg i en tidlig fase. Ting som ulike paneler, grids, bilder, tabeller mm, m√• vi la ligge i denne omgang. Det vil bli fokusert mest p√• tekstlige elementer.

=== Overordnet HTML

Helt grunnleggende HTML antas kjent. Bruk av overskrifter som `<h1>`, linker, ulike _mark-ups_ for fet eller kursiv skrift og den slags, behandles ikke. Her fokuseres det p√• struktur med relevans for stiling.

Et HTML-dokument kan strukturelt sett se slik ut:

[%unbreakable]
[source,text]
----
<html>
 ‚îú‚îÄ‚îÄ <head> ‚Ä¶ metadata, CSS, title ‚Ä¶
 ‚îî‚îÄ‚îÄ <body> ‚îÄ‚îÄ hele synlige innholdet p√• siden
       ‚îú‚îÄ‚îÄ <header> ‚Ä¶ toppbanner, logo, navigasjon ‚Ä¶
       ‚îú‚îÄ‚îÄ <nav> ‚Ä¶ hovedmeny, lenker ‚Ä¶
       ‚îú‚îÄ‚îÄ <main> ‚Ä¶ hovedinnholdet, unikt for denne siden
       ‚îÇ     ‚îú‚îÄ‚îÄ <section> ‚Ä¶ logisk gruppering av innhold
       ‚îÇ     ‚îú‚îÄ‚îÄ <article> ‚Ä¶ en artikkel, blogginnlegg, etc.
       ‚îÇ     ‚îî‚îÄ‚îÄ <div> ‚Ä¶ ekstra beholder for styling/layout
       ‚îú‚îÄ‚îÄ <aside> ‚Ä¶ sidepanel, ekstra info, reklame ‚Ä¶
       ‚îî‚îÄ‚îÄ <footer> ‚Ä¶ bunntekst, copyright, kontaktinfo ‚Ä¶
----

Videre ser vi et HTML-eksempel, med syntaks og viktige elementer:

[%unbreakable]
[source,html]
----
<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Litt om CSS</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>Litt om CSS</h1>
        <p>Av Jan R Sandbakken</p>
    </header>

    <main>
        <section>
            <h2>Introduksjon</h2>
            <p>Dette er et eksempel p√• et avsnitt i HTML.</p>
            <pre>
Dette er preformatert tekst.
Beholder mellomrom og linjeskift.
            </pre>
        </section>

        <section>
            <h2>Eksempel p√• div</h2>
            <div class="boks">
                Dette er en div som ofte brukes for √• style grupper av innhold.
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2026 Jan R Sandbakken</p>
    </footer>
</body>
</html>
----

hvor referansen til CSS-filen som styler dokumentet, er gitt ved

[%unbreakable]
[source,html]
----
<link rel="stylesheet" href="style.css">
----

Elementene som benyttes er

* `<header>` er overskriftsseksjon p√• toppen av dokumentet
* `<body>` er alt det synlige innholdet (inkl. header, footer, sidepanel, ...)
* `<main>` er hovedinnhold
* `<section>` er logiske grupper av innhold (f.eks. kapitler og emner)
* `<div>` er en generell beholder, typisk for avsnittspreget layout og styling
* `<p>` er vanlig avsnitt
* `<pre>` er preformatert tekst som beholder linjeskift og mellomrom
* `<footer>` er bunntekst

Andre viktige tekstlige elementer er bl.a:

* `<code>` ‚Äì for formatering av kodeaktige ord
* `<span>` ‚Äì generell beholder for mer ordbasert formatering

=== Hva er CSS?

CSS st√•r for _Cascading Style Sheets_, som representerer:

* Cascading ‚Üí Regler ‚Äúkaskaderer‚Äù, dvs. nye regler kan overstyre gamle basert p√• spesifisitet og rekkef√∏lge.
* Style ‚Üí Angir hvordan elementer ser ut: farge, st√∏rrelse, plassering, marg, osv.
* Sheets ‚Üí Samles i en fil (f.eks. *style.css*) og kobles til HTML.

CSS kobles til HTML via:

[arabic]
. Selektor ‚Äì hva du vil style (f.eks. *p*, *.boks*, *#header*)
. Egenskap ‚Äì hva du vil endre (f.eks. *color*, *font-size*, *margin*)
. Verdi ‚Äì hvordan du vil endre det (f.eks. blue, 1.2rem, 10px)

Eksempel:

[%unbreakable]
[source,css]
----
/* Stiler alle <p>-avsnitt */
p {
    color: darkblue;
    line-height: 1.5;
}

/* Stiler alt med klasse "boks" */
.boks {
    background-color: #f0f0f0;
    padding: 1rem;
    border: 1px solid #ccc;
}
----

Hovedprinsippene er at:

* CSS separerer struktur (HTML) fra utseende (CSS) ‚Üí lettere vedlikehold.
* En regel best√•r alltid av selektor + deklarasjonsblokk
* CSS arves nedover i dokumentet (f.eks. `color` fra `<body>` arves til `<p>`)

Konstruksjonen som bestemmer verdier, ser generelt slik ut:

[%unbreakable]
[source,css]
----
selektor {
    egenskap: verdi;
    egenskap: verdi;
}
----

der

* *selektor* (selector) bestemmer hvilke HTML-elementer regelen gjelder for
* *\{ ... }* regelblokk (rule block) inneholder √©n eller flere deklarasjoner
* *egenskap* (property) angir hva vil endre (f.eks. margin eller display)
* *verdi* (value) er verdien man setter p√• egenskapen (f.eks. red eller 10px)

N√•r det gjelder arv, er det slik at noen egenskaper arves (som `color`) og andre ikke (som `padding`), og i tillegg er det et arvehierarki som gjelder I HTML/CSS (som f.eks `<body>` ‚Üí `<div>` ‚Üí `<p>`). Vi skal komme tilbake til dette, men de formelle spesifikasjonene er √• finne p√•

* https://developer.mozilla.org/en-US/docs/Web/CSS/Reference[MDN CSS Reference]
* https://developer.mozilla.org/en-US/docs/Web/CSS/Reference[CSS Specification (W3C)]

=== Globale CCS-settinger

Her ser vi eksempel p√• noen globale settinger

[%unbreakable]
[source,css]
----
html {
    font-size: 16px; /* gir grunnst√∏rrelse for rem */
}

body {
    font-family: system-ui, sans-serif; /* lettlest standardfont */
    line-height: 1.6;                   /* behagelig linjeavstand */
    color: #222;                        /* tekstfarge */
    background-color: #f5f5f5;          /* bakgrunnsfarge */
}
----

I HTML settes ting som b√∏r v√¶re globalt, men sjelden knyttes til visuelt design. HTML-settinger er typisk spr√•k og metadata, globale layout-verdier, scroll-behavior etc.

BODY representerer det synlig innholdet, laget som faktisk tegnes i vinduet. Her er det typisk √• sette bakgrunnsfarge, font-family, fontfarge, marger og padding, layout-begrensning som max-width mm. BODY representerer hele sider, inklusive sidepanel, _footer_ og _header_ mm, og dette indikerer hva som er naturlig √• sette her og ikke f.eks. i MAIN (som representerer hovedinnholdet, og som _kan_ ha egen bakgrunnsfarge, marger etc. uten √• p√•virke topp og bunn og sidepanel fra BODY, hvis √∏nskelig). F√∏lgende figur illustrerer situasjonen:

[%unbreakable]
[source,text]
----
+------------------------------------------------------+
|                      <body>                          |
|  +------------------------------------------------+  |
|  |                   <header>                     |  |
|  |   Logo / Tittel / Toppmeny                     |  |
|  +------------------------------------------------+  |
|                                                      |
|  +--------------------+--------------------------+   |
|  |       <aside>      |         <main>           |   |
|  |   Sidepanel        |   Hovedinnhold           |   |
|  |   - Lenker         |   - Artikkel             |   |
|  |   - Ekstra info    |   - Seksjoner            |   |
|  |                    |   - Bilder               |   |
|  +--------------------+--------------------------+   |
|                                                      |
|  +------------------------------------------------+  |
|  |                   <footer>                     |  |
|  |   Copyright / Kontakt / Metadata               |  |
|  +------------------------------------------------+  |
+------------------------------------------------------+
----

=== Boksmodellen

De fleste elementer har boksegenskaper, f.eks. overskrifter, *p*, *div*, *span*, *section*, *article*, *image* m.fl. Dvs. de kan ha marger, rammer og ulike former for luft rundt seg. Dette er konkret vist i figuren under.

[%unbreakable]
[source,text]
----
+-----------------------------------------------------------+
|                         MARGIN                            |
|                                                           |
|   +---------------------------------------------------+   |
|   |                     BORDER                        |   |
|   |                                                   |   |
|   |   +-------------------------------------------+   |   |
|   |   |                 PADDING                   |   |   |
|   |   |                                           |   |   |
|   |   |   +-----------------------------------+   |   |   |
|   |   |   |             Innhold               |   |   |   |
|   |   |   |        (WIDTH / HEIGHT)           |   |   |   |
|   |   |   +-----------------------------------+   |   |   |
|   |   |                                           |   |   |
|   |   +-------------------------------------------+   |   |
|   |                                                   |   |
|   +---------------------------------------------------+   |
|                                                           |
+-----------------------------------------------------------+
----

Vi ser at st√∏rrelsen av innholdet kan spesifiseres ved *width* og *height*, og man kan angi luft (*padding*) og ramme rundt (*border*) dette. Rundt dette igjen, rundt selve boksen, kan man s√• ogs√• legge inn luft i form av *margin*.

=== Content box vs Border box

Vi har to typer bokser, _content_ og _border box_. For en contentbox (som er default) kommer *padding* og *border* i tillegg i bestemmelse av den endelig st√∏rrelsen. For border-box er spesifikk st√∏rrelse ogs√• den faktisk st√∏rrelsen. (Men husk at *margin* gjelder alltid utenfor boksen, uansett hvilken box-sizing man bruker.)

Slik settes de:

[%unbreakable]
[source,css]
----
/* content-box: standard */
div.content-box {
  box-sizing: content-box;
  width: 300px;
  padding: 20px;
  border: 5px solid black;
}

/* border-box: praktisk for layout */
div.border-box {
  box-sizing: border-box;
  width: 300px;
  padding: 20px;
  border: 5px solid black;
}
----

Disse p√•virker tolkningen av WIDTH og HEIGTH for innholdet.

=== Angivelse av st√∏rrelse

M√•ter √• spesifisere st√∏rrelse p√• er: *px*, *em*, *rem*, *%*, *vw*, *vh*

De brukes p√• ikke bare p√• *margin*, *padding* osv, men ogs√• p√• *width*, *font-size* o.l.

*px* og *em* er de vanligste.

==== üî∏ px

*px* angir st√∏rrelse i antall piksler. Den er ment √• gi en absolutt, forutsigbar verdi. En boks med bredde 300px vil pr√∏ve √• v√¶re n√∏yaktig 300 piksler bred uavhengig av skjermst√∏rrelse.

Verdier kan settes direkte, som her:

[%unbreakable]
[source,css]
----
div {
  margin: 10px;
  padding: 20px;
}
----

For egenskaper som *margin* og *padding*, som kan ha verdier p√• flere sider av et innhold, vil rekkef√∏lgen av tallene bestemme hvilken side de angir. Rekkef√∏lgen er iht. *top ‚Üí right ‚Üí bottom ‚Üí left*, alts√• med klokka. Dvs. at

[%unbreakable]
[source,css]
----
div {
  margin: 10px 20px 30px 40px;
}
----

angir st√∏rrelser etter

[%unbreakable]
[source,text]
----

           10px
   40px            20px
           30px
----

Man har ogs√• definert betydningen

[%unbreakable]
[source,css]
----
div {
    margin: 10px;                   /* alle */
    margin: 10px 20px;              /* T/B  R/L */
    margin: 10px 20px 30px;         /* T  R/L  B */
    margin: 10px 20px 30px 40px;    /* T  R  B  left */
}
----

Videre har man mulighet for √• bruke `margin-top`, `margin-right`, `margin-bottom` og `margin-left`, og det tilsvarende ogs√• for `padding` og `border`. Men sistnevnt best√•r egentlig av tre deler,

* `width`
* `style`
* `color`

for tykkelse, rammestil og farge, s√• disse ser dermed slik ut:

[%unbreakable]
[source,text]
----
border-top-width:
border-top-style:
border-top-color:
----

osv.

==== üî∏ rem og em

*rem* og *em* angir st√∏rrelse relativt ift. **font-siz**e hos hhv. rot (HTML) eller hos seg selv (eller forelderelementet).

____
1em = 1 √ó gjeldende font-size 2em = 2 √ó gjeldende font-size
____

Mer konkret:

* font-size ‚Üí baseres p√• forelder
* padding og margin etc ‚Üí baseres p√• elementets egen beregnede font-size

Hvis ingen font-size er eksplisitt satt, brukes nettleserens standardverdi, som ofte er 16px.

==== üî∏ %

Prosent er relativ til foreldreelementet.

[%unbreakable]
[source,css]
----
.container {
  width: 800px;
}

.box {
  width: 50%;
}
----

==== üî∏ vw og vh

*vw* og *vh* st√•r for hhv. vertikal og horisontal viewport.

* 1vw = 1% av skjermes bredde i px
* 1vh = 1% av skjermen bredde i px h√∏yde

[%unbreakable]
[source,css]
----
div {
  width: 50vw;
  height: 100vh;
}
----

Alle typer angivelse kan blandes:

[%unbreakable]
[source,css]
----
div {
  width: 20rem;
  padding: 2em;
  margin: 5%;
  height: 50vh;
}
----

=== Display

Blokker kan vises under hverandre eller ved siden av hverandre. Dette styres med ulike valg for *display*:

* `display: block`
* `display: inline`
* `display: inline-block`

Det fins i tillegg to valg `flex` og `grid` som vi evt. behandler senere.

Betydningen er som f√∏lger:

* Blokk-elementer legger seg under hverandre
* Inline-elementer legger seg ved siden av hverandre, men uten egne width/height-settinger
* Inline-block legger seg ved siden av hverandre og kan ha egne width/height-settinger

En `display: block` starter p√• ny linje og tar hele tilgjengelige bredde (som standard). Den respekterer b√•de `width`, `height`, `margin`, `padding` og `border` som brukeren evt. setter.

[%unbreakable]
[source,text]
----
BLOCK-ELEMENTER

+---------------------------+
|           div             |
+---------------------------+

+---------------------------+
|           div             |
+---------------------------+

+---------------------------+
|           div             |
+---------------------------+
----

`display: inline` gir inline-elementer. De starter ikke n√∏dvendigvis p√• ny linje, men legger seg ved siden av omgivelsene og flyter inni tekstlinjen (som f.eks. fet skrift gj√∏r i vanlig tekst). H√∏yde/bredde tilpasses innholdet.

[%unbreakable]
[source,text]
----
+---------+  +---------+  +---------+
|  box 1  |  |  box 2  |  |  box 3  |
+---------+  +---------+  +---------+
----

`display: inline-block` er noks√• lik, bare at den respekterer `width`, `height`, `margin` og `padding` fullt ut, dvs. at den kan ha h√∏yde og bredde som skiller fra den umiddelbare omgivelsen.

*margin* skaper avstand mellom alle disse blokk-typene.

Vi har

Block-baserte tekstelementer: *div*, *pre* og *p*

Inline-baserte tekstelementer: *code* og *span*

Det er egentlig ikke HTML-standarden som tvinger fram boksegenskapene til disse elementene. Isteden er det nettleseren (kalt _user agent stylesheet_ i denne sammenheng) og brukerens CSS-spesifikasjoner som realiserer dette. I prinsippet kan man endre boksegenskapene til f.eks. *code*, selv om dette ikke er i tr√•d med godt design.

Normal flyt ‚Äì blokk:

____
Blokkelementer plasseres vertikalt under hverandre, fyller tilgjengelig bredde og skyver p√•f√∏lgende elementer nedover.
____

Normal flyt ‚Äì inline:

____
Inline-elementer plasseres horisontalt i samme linje som tekst, bruker bare n√∏dvendig bredde og brytes automatisk til ny linje n√•r det ikke er mer plass.
____

Normal flyt kan endres med `position`, `float`, `flex` og `grid`, som gir alternative m√•ter √• plassere elementer p√•.

=== Arv

Vi m√• si litt mer om hva som arves og ikke, samt hvordan arverekkef√∏lgen bestemmes. Arv er viktige siden arvelige egenskaper satt for forfedre kan bli gjeldene for aktuelt element.

Tekst-relaterte egenskaper arves, dvs, egenskaper som

* color
* font-family
* font-size
* font-weight
* line-height
* text-align
* visibility

Boks- og layout-egenskaper arves ikke, dvs. egenskaper som

* margin
* padding
* border
* width
* height
* display
* position
* background
* box-shadow

Man har imidlertid kodeordet/verdien `inherit` som tar verdien fra forelder, uansett om den normalt arves eller ikke. Slik brukes den:

[%unbreakable]
[source,css]
----
div {
  margin: inherit;
}
----

I forlengelsen av alt dette er det ogs√• verdt √• nevne at det ikke er definert default-verdier for egenskaper i HTML-standarden. Nettlesere (_user agent stylesheet_) setter imidlertid typisk flere av disse (med kun mindre forskjeller mellom ulike lesere).

N√•r det gjelder arverekkef√∏lge, kan den for tekstelementer typisk se slik ut:

[%unbreakable]
[source,text]
----
html
‚îî‚îÄ‚îÄ body
    ‚îî‚îÄ‚îÄ main
        ‚îî‚îÄ‚îÄ div
            ‚îî‚îÄ‚îÄ p, pre
                ‚îî‚îÄ‚îÄ code, span
----

Rekkef√∏lgen er ikke gitt direkte av HTML-standarden, men er en blanding av hvordan rekkef√∏lgen fremkommer av selve HTML-dokumentet man jobber med (hva som ligger inni hva) og HTMLs s√•kalte _content model_. Kort fortalt har man ulike innholdstyper i HTML:

* *Flow content*: det meste av vanlige elementer
* *Phrasing content*: inline-tekstinnhold
* *Sectioning content*: section, article, nav, aside
* *Heading content*: h1‚Äìh6
* *Interactive content*: button, input, href

Og s√• har man regler som:

* Flow-elementer kan inneholde flow
* Flow-elementer kan inneholde phrasing
* Phrasing kan bare inneholde phrasing

Dette kan v√¶re greit √• kjenne til, men det er likevel kjappere √• forholde seg til f√∏lgende tabell, som for hvert tekstelement sier hvilke det kan inneholde og ikke iht. _content model_:

[%unbreakable]
[source,text]
----
Forelder\Barn   div     p     pre   code    span
 div             Y      Y      Y      Y      Y
 p               -      -      -      Y      Y
 pre             -      -      -      Y      Y
 code            -      -      -      Y      Y
 span            -      -      -      Y      Y 
----

Vi ser f.eks at *p* kan ligge inni *div*, men ikke omvendt. Videre kan *code* og *span* ligge inni en *pre*, men ikke *div*, *p* eller andre *pre* osv.

Det fins flere tekstlige elementer enn dette, som unummererte og nummererte lister av ulike slag. Vi tar ikke detaljene her, men kort fortalt fins egne beholdere *ol* og *ul* som listeelementeneligger inni:

[%unbreakable]
[source,text]
----
UL (unordered list)   ‚Üí container for punktliste
‚îî‚îÄ‚îÄ LI                ‚Üí hvert punkt i listen

OL (ordered list)     ‚Üí container for nummerert liste
‚îî‚îÄ‚îÄ LI                ‚Üí hvert punkt i listen
----

Beholderne kan ligge inni *div*, men ikke i *p* eller *pre*. (P√• den annen side kan *div*, *p*, *pre*, *code*, *span* disse ligge inne *li*, om √∏nskelig.)

=== ID og Class

Man kan formatere f.eks. en *div* med:

[%unbreakable]
[source,css]
----
div {
    color: darkblue;
}
----

Dette fungerer, men problemet er da at _alle_ *div* endres iht. dette, om man √∏nsker det eller ikke. Men man kan heldigvis innf√∏re sin egen *div*, f.eks. en kalt *info*, ved CLASS-konstruksjonen i HTML som f√∏lger:

[%unbreakable]
[source,html]
----
<div class="info">
    God jul!
</div>
----

Dermed kan man stile alle forekomstene av disse uten √• p√•virke global *div*. Man har flere m√•ter √• gj√∏re dette p√•, som vi skal se, men vi kan starte med denne:

[%unbreakable]
[source,css]
----
.info {
    color: darkblue;
}
----

Alle forekomster av `<div class="info">` f√•r bl√• tekst. Dette er sv√¶rt nyttig og benyttes over alt. Men CLASS kan utnyttes p√• flere m√•ter. Man kan nemlig anvende denne flotte, bl√• info-stilen v√•r ogs√• p√• andre elementer, f.eks. p√• *p* ved:

[%unbreakable]
[source,html]
----
<p class="info">
    God p√•ske!
</div>
----

Den ovennevnte CSS-regelblokken v√•r vil treffe b√•de `<div class="info">` og `<p class="info">`, og vil bl√•farge teksten i alle forekomster av begge.

Man kunne v√¶rt mer spesifikk og formatert dem separat ved;

[%unbreakable]
[source,css]
----
div.info {
    color: darkblue;
}
----

[%unbreakable]
[source,css]
----
p.info {
    color: blue;
}
----

Dette betyr at man kan gruppere et sett av egenskaper med verdier i en klasse, og anvende den p√• flere elementer, f.eks. for en mer enhetlig stil eller oppf√∏rsel.

La oss se p√• et eksempel skribenter ofte st√∏ter p√•. Ofte konverterer man via *pandoc* fra et skrivevennlig format til HTML. La oss si vi har et Asciidoc-dokument som inneholder kodeeksempler, med f.eks. en illustrasjon av en `fd`-kommando i bourne-shell:

[%unbreakable]
[source,text]
----
[source,bash]
----
fd -e css .
----
----

*pandoc** konverterer denne blokken til et HTML-element av typen

[%unbreakable]
[source,html]
----
<pre>
  <code class="language-bash"> ...
----

Dermed kan man style kodeeksempelet vha.

[%unbreakable]
[source,css]
----
.language-bash {
    color: lightblue;
    background: darkblue;
}
----

eller bedre og mer spesifikt ved

[%unbreakable]
[source,css]
----
code.language-bash {
    color: lightblue;
    background: darkblue;
}
----

Som vi skal se i neste kapittel, har vi ogs√• ogs√• mulighet til √• stile det ved

[%unbreakable]
[source,css]
----
pre code.language-bash {
    color: lightblue;
    background: darkblue;
}

der vi kun stiler forekomster av `<code class="language-bash">` som ligger inni en `<pre>` (en s√•kalt kombinert selektor).

```text
id  >  class  >  element
----

*ID* er en beslektet

=== Kombinerte selektorer

Kombinerte selektorer er

Oversikt over de viktigste kombinasjonene:

[%unbreakable]
[source,text]
----
Selektor    Betydning
A B         B er etterkommer av A
A > B       B er direkte barn av A
A + B       B kommer rett etter A
A ~ B       B er senere s√∏sken av A
----

Det f√∏lgende fors√∏ker √• stile forekomster av *code* under forutsetning at de ligger inni en *p*:

[%unbreakable]
[source,css]
----
pre code {
  background: lightgray;
}
----

*code* m√• ligge inni pre, men ikke n√∏dvendigvis rett etter, s√• det matcher f.eks:

[%unbreakable]
[source,html]
----
<pre>
  <div>
    Dette er <code>Python</code> for nybegynnere.
  </div>
</pre>
----

Bruker man denne

[%unbreakable]
[source,css]
----
pre > code {
  color: red;
}
----

forlanger man at *code* er direkte barn av *pre*, slik at det bare matcher

[%unbreakable]
[source,html]
----
<pre>
  <code>...</code>
</pre>
----

osv.

*pre code* har h√∏yere spesifisitet enn bare *code*, fordi den er mer presis. Men den er fortsatt svakere enn en CLASS eller ID.
